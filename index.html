<!DOCTYPE HTML>
<html>
   <head>
      <title>Code Cafe IDE!</title>
      <link rel="stylesheet" href="./master.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
      <script src="CodeMirror/lib/codemirror.js"></script>
      <link rel="stylesheet" href="CodeMirror/lib/codemirror.css">
      <link rel="stylesheet" href="CodeMirror/theme/xq-light.css">
      <link rel="stylesheet" href="CodeMirror/theme/monokai.css">
      <link rel="stylesheet" href="CodeMirror/addon/lint/lint.css">
      <script src="CodeMirror/mode/javascript/javascript.js"></script>
      <script src="CodeMirror/addon/lint/lint.js"></script>
      <script src="CodeMirror/addon/lint/javascript-lint.js"></script>
      <script src="https://ajax.aspnetcdn.com/ajax/jshint/r07/jshint.js"></script>
      <script src="script.js"></script>
   </head>   
   
   <body>
   <div class="leftSide">
      <textarea id="codeTextArea"></textarea>
      <button id="save" class="button" onclick="save()" type="button">Save</button>
      <button id="run" class="button" onclick="runData()" type="button">Run</button>
      <button id="clear" class="button" onclick="clearS()" type="button">Clear</button>
      <button id="dark" class="button" onclick="switchTheme()" type="button">Light</button>
   </div>

   <div class="rightSide">
      <img id="header" alt="" src="terminalHeader.png">
      <div class="displayText">
         <textarea id="rightText" readonly>
            Welcome to Code Cafe!
         </textarea>
      </div>
   </div>

   <script type="text/javascript">
    var myCodeMirror = CodeMirror.fromTextArea(codeTextArea, {
      mode: "javascript",
      gutters: ["CodeMirror-lint-markers"],
      lint: true,
      theme: "xq-light",  
      lineNumbers: true
    });

    //Set the ide value to localStorage
    myCodeMirror.setValue(localStorage.getItem("codeCafe_text"));

    //Set the theme from local storage
    var theme = localStorage.getItem("theme");

    if (theme === "dark") {
      myCodeMirror.setOption("theme", "monokai");
      localStorage.setItem("theme", "dark");
      $("#dark").html("Dark");
    } else {
      myCodeMirror.setOption("theme", "xq-light");
      localStorage.setItem("theme", "light");
      $("#dark").html("Light");
    }
   </script>
   </body>
</html>
